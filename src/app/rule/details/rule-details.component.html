<div class="app-primary-header">
  <h1>New rule</h1>
</div>

<div class="row">

  <mat-card fxFlex="95%">

    <form [formGroup]="ruleForm" novalidate>

      <!-- rules name -->
      <div class="row mb-3">
        <div class="col-lg-5 col-md-3 col-sm-12">
          <mat-form-field class="input-full">
            <input matInput placeholder="Rule alias" formControlName="name">
            <mat-error *ngIf="ruleForm.controls.name.errors">
              Rule alias is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- URL -->
      <div class="row mb-2">
        <div class="col-lg-1 col-md-12 col-sm-12">
          <mat-form-field class="input-full">
            <mat-select placeholder="Operator" formControlName="operator">
              <mat-option *ngFor="let key of operatorKeys" [value]="key">{{operatorRules[key]}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-lg-4 col-md-12 col-sm-12">
          <mat-form-field class="input-full">
            <input matInput placeholder="URL" formControlName="url">
            <mat-error *ngIf="ruleForm.controls.url.errors">
              URL is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- tab title -->
      <div class="row mb-3">
        <div class="col-lg-5 col-md-3 col-sm-12">
          <mat-form-field class="input-full">
            <input matInput placeholder="Tab Title" formControlName="title">
          </mat-form-field>
        </div>
      </div>

      <!-- tab icon -->
      <div class="row mb-2">
        <div class="col-lg-2 col-md-12 col-sm-12">
          <mat-form-field>
            <mat-select class="input-full" placeholder="Tab icon" formControlName="icon" #select="matSelect">
              <mat-select-trigger>
                <img class="md-img-select mat-icon-16x" src="assets/{{getIcon(select.selected?.value)?.path}}"
                     alt="{{ select.selected?.viewValue }}">
                {{ select.selected?.viewValue }}
              </mat-select-trigger>
              <mat-option layout="row" layout-align="start center" *ngFor="let icon of icons" [value]="icon.key">
                <img class="md-img-select mat-icon-16x" src="assets/{{icon.path}}" alt="{{ icon.name }}"> {{
                icon.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </form>
    <div class="mt-4">
      <button mat-raised-button color="primary" (click)="save()">Save</button>
      <button mat-raised-button (click)="cancel()">Cancel</button>
    </div>
  </mat-card>
</div>
